# 关于SMAP_L4数据的预处理流程

## 检查是否正确 完整
- 由于NASA公司提供的数据分辨率为 3 hours。因此8 files/day。命名也是极其规范
例如：`SMAP_L4_SM_gph_20240101T103000_Vv8010_001_HEGOUT.h5`表示 2024年1月1日 10点30分这一时间点的数据值。
- 每次下载完毕我都会运行`01_check_and_move_smap.py`文件进行对应年份的检查。主要是检查指定年份的 SMAP .he5/.h5 数据完整性并移动或复制到目标文件夹。
- 检查目标：是否包含每一个日期；每一个日期是否为完整的8files；命名也是按照对应规则；随机抽查一百个文件，检查其中单个文件组织方式是否满足要求（代码中已经写死数据格式，分两种，判断后进行检查。满足其一即可）
- 全部检查满足之后随即将这些数据移送至对应年份的文件夹单独存放

## 聚合
- 正如先前所言，原数据文件分辨率为 3 hours。因此按照规矩对应日期下的八个文件经检查后聚合为一日尺度的文件，随后再进行全年的数据聚合（`02_aggregate_smap_he5.py`）。将其聚合为单年的单个数据文件放置`SMAP_daily`文件夹下

## 最终聚合
- 经过前边的工作我们已经有了对应十年的十个文件数据，将其通过`03_merge_yearly_daily.py`进行聚和为最终的数据文件。

## 最终
- 上述步骤已经完成预处理。将其传入服务器即可进行模型训练。
